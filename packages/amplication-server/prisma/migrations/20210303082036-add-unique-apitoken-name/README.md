# Migration `20210303082036-add-unique-apitoken-name`

This migration has been generated by Yuval Hazaz at 3/3/2021, 10:20:37 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "ApiToken.userId_name_unique" ON "ApiToken"("userId", "name")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210302151450-apitoken..20210303082036-add-unique-apitoken-name
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -77,8 +77,10 @@
   userId       String
   token        String
   previewChars String
   lastAccessAt DateTime
+
+  @@unique([userId, name])
 }
 model App {
   id                     String       @id @default(cuid())
```


