# Migration `20200604151640-json`

This migration has been generated by Yuval Hazaz at 6/4/2020, 3:16:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."BlockVersion" DROP COLUMN "inputParameters",
ADD COLUMN "inputParameters" jsonb   ,
DROP COLUMN "outputParameters",
ADD COLUMN "outputParameters" jsonb   ,
DROP COLUMN "settings",
ADD COLUMN "settings" jsonb  NOT NULL ;

ALTER TABLE "public"."EntityField" DROP COLUMN "properties",
ADD COLUMN "properties" jsonb  NOT NULL ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200603105656..20200604151640-json
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url      = "***"
+  url      = env("POSTGRESQL_URL")
   enabled  = true
 }
 generator client {
@@ -126,9 +126,9 @@
   fieldPermanentId String        @default(cuid())
   name             String
   displayName      String
   dataType         EnumDataType
-  properties       String
+  properties       Json
   required         Boolean
   // TBD
   searchable       Boolean
   description      String
@@ -194,10 +194,10 @@
   block            Block    @relation(fields: [blockId], references: [id])
   blockId          String
   versionNumber    Int
   label            String
-  inputParameters  String? //JSON
-  outputParameters String? //JSON
-  settings         String //JSON
+  inputParameters  Json? //JSON
+  outputParameters Json? //JSON
+  settings         Json //JSON
   @@unique([blockId, versionNumber])
 }
```


