# Migration `20200312103449-entity-changed-projects-to-project`

This migration has been generated by Alon Ram at 3/12/2020, 10:34:50 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Entity" DROP CONSTRAINT IF EXiSTS "Entity_projects_fkey",
DROP COLUMN "projects",
ADD COLUMN "project" text  NOT NULL ;

ALTER TABLE "public"."Entity" ADD FOREIGN KEY ("project")REFERENCES "public"."Project"("id") ON DELETE RESTRICT  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200312084142..20200312103449-entity-changed-projects-to-project
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,13 @@
 datasource sqlite {
   provider = "sqlite"
-  url = "***"
+  url      = "file:./dev.db"
   enabled  = false
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
   enabled  = true
 }
 generator client {
@@ -84,9 +84,9 @@
 model Entity {
   id    String   @default(cuid()) @id
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  projects  Project
+  project  Project
   name  String
   displayName String
   pluralDisplayName String
   description String
```


